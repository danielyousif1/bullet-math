<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Bullet Math</title>
</head>
<body>
  <h1>Bullet Math</h1>

  <!-- Registration & Room Setup -->
  <div id="register">
    <input type="text" id="playerName" placeholder="Your name">
    <br>
    <input type="number" id="roomDuration" placeholder="Room duration (sec)" value="120">
    <br>
    <button id="createRoom">Create Room</button>
    <br>
    <input type="text" id="roomId" placeholder="Room ID (if joining)">
    <br>
    <button id="joinRoom">Join Room</button>
    <br>
    <div id="roomInfo"></div>
  </div>

  <!-- Game View -->
  <div id="game" style="display:none;">
    <!-- Invitation and start button for host -->
    <div id="invitation" style="margin-bottom: 10px; font-weight: bold;"></div>
    <button id="startBtn" style="display:none;">Start Game</button>
    <button id="restartBtn" style="display:none;">Restart Game</button>
    <div id="timer">Time: 120</div>
    <div id="scoreboard"></div>
    <div class="problem-container">
      <span id="problem">Loading problem...</span>
      <input type="text" id="answer" placeholder="Enter your answer" autofocus>
    </div>
    <div id="feedback"></div>
  </div>

  <!-- Auto-fill room ID if present in URL -->
  <script>
    window.onload = () => {
      const params = new URLSearchParams(window.location.search);
      const roomId = params.get("room_id");
      if (roomId) {
        document.getElementById("roomId").value = roomId;
      }
    };
  </script>

  <script src="script.js"></script>
</body>
</html>
